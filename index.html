<!DOCTYPE html>
<html>
<head>
  <title>Задайте вопрос OpenAI</title>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
  <h1>Задайте вопрос OpenAI</h1>

  <form id="question-form">
    <label for="question">Ваш вопрос:</label>
    <input type="text" id="question" name="question" required>
    <br>
    <button type="submit">Отправить</button>
  </form>

  <h2>Ответ:</h2>
  <div id="answer"></div>

  <script>
    const form = document.getElementById('question-form');
    const answerDiv = document.getElementById('answer');
    const apiKey = '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';

    form.addEventListener('submit', async (event) => {
      event.preventDefault();

      const questionInput = document.getElementById('question');
      const question = questionInput.value;

      try {
        const response = await getAnswerFromOpenAI(question, apiKey);

        answerDiv.textContent = response.data.choices[0].text;
      } catch (error) {
        console.error(error);
        // Обработка ошибок
      }
    });

    async function getAnswerFromOpenAI(question, apiKey) {
      try {
        const response = await axios.post('https://api.openai.com/v1/engines/davinci/completions', {
          prompt: question,
          max_tokens: 50
        }, {
          headers: {
            'Authorization': `Bearer ${apiKey}`,
            'Content-Type': 'application/json'
          }
        });

        return response.data;
      } catch (error) {
        throw error;
      }
    }
  </script>
</body>
</html>
